% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/coordinate.R, R/coordinates.R
\name{astro_vector_from_horizon}
\alias{astro_vector_from_horizon}
\title{Calculate horizontal vector from apparent angular horizontal coordinates}
\usage{
astro_vector_from_horizon(sphere, time, refraction)

astro_vector_from_horizon(sphere, time, refraction)
}
\arguments{
\item{sphere}{A list with named elements:
\itemize{
\item \code{lat}: Altitude (refracted) in degrees
\item \code{lon}: Azimuth in degrees (clockwise from north)
\item \code{dist}: Distance in AU
}}

\item{time}{A POSIXct object representing the date and time.}

\item{refraction}{Refraction correction to remove:
\itemize{
\item 0 = none
\item 1 = normal
\item 2 = JPL Horizons compatible (for testing)
}}
}
\value{
A list representing a vector in the horizontal system with components:
\describe{
\item{x}{North component in AU}
\item{y}{West component in AU}
\item{z}{Zenith (up) component in AU}
\item{t}{The date and time (POSIXct)}
\item{status}{Status code (0 = success)}
}

A list representing a horizontal Cartesian vector with elements:
\itemize{
\item \code{x}: North component in AU
\item \code{y}: West component in AU
\item \code{z}: Zenith (up) component in AU
\item \code{t}: Time value
\item \code{status}: Status code (0 = success)
}
}
\description{
Given apparent angular horizontal coordinates, calculate horizontal vector.
The input azimuth is measured in degrees clockwise from north (east = +90).
The returned vector is in the horizontal system: x = north, y = west, z = zenith (up).

Given apparent angular horizontal coordinates, calculates a horizontal
Cartesian vector.
}
\examples{
# Convert horizontal coordinates to vector
sphere <- list(lat = 45, lon = 90, dist = 1)  # 45° altitude, 90° azimuth (east)
time <- as.POSIXct("2024-01-01 12:00:00", tz = "UTC")
vec <- astro_vector_from_horizon(sphere, time, refraction = 1)
# 30° altitude, facing south
hor <- list(lat = 30, lon = 180, dist = 1)
time <- as.POSIXct("2024-01-01 12:00:00", tz = "UTC")
vec <- astro_vector_from_horizon(hor, time, refraction = 1)

}
